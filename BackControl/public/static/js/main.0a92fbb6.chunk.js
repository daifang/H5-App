(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){e.exports=n(33)},33:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(1),c=n.n(o),i=n(3),l=n(4),u=n(6),r=n(5),m=n(7),p=(n(16),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"nav"},s.a.createElement("span",null,this.props.title))}}]),t}(a.Component)),d=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"alert"},s.a.createElement("img",{src:"/images/failed.png",width:"80px"}),s.a.createElement("span",null,this.props.msg),s.a.createElement("input",{type:"button",value:this.props.btn||"\u786e\u8ba4",className:"input_btn",style:{marginTop:"10px"},onClick:function(t){e.props.toPath(t)}}))}}]),t}(a.Component),f=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(r.a)(t).call(this))).toMain=function(){e.props.history.push("/acg")},e.toLogup=function(t){e.props.history.push("/logup")},e.fetch_login=function(t){var n={type:"login"};n.username=document.getElementsByName("username")[0].value,n.password=document.getElementsByName("password")[0].value,""==n.username||""==n.password?e.setState({msg:"\u7528\u6237\u540d\u6216\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},(function(){c.a.findDOMNode(document.getElementById("alert")).style.display="block"})):fetch("https://daitianfang.1459.top/acg",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.text()})).then((function(t){"success"===t?e.props.history.push("/acg"):e.setState({msg:"\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"},(function(){c.a.findDOMNode(document.getElementById("alert")).style.display="block"}))}))},e.hidden=function(e){c.a.findDOMNode(document.getElementById("alert")).style.display="none"},e.state={msg:"\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef"},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"bg"},s.a.createElement(p,{title:"\u767b\u5f55"}),s.a.createElement("div",{className:"logo"},s.a.createElement("img",{src:"/images/logo.png",width:"100px"})),s.a.createElement(d,{msg:this.state.msg,toPath:function(){e.hidden()}}),s.a.createElement("input",{type:"text",placeholder:"\u7528\u6237\u540d",className:"input",name:"username"}),s.a.createElement("input",{type:"password",placeholder:"\u5bc6\u7801",className:"input",name:"password"}),s.a.createElement("input",{type:"button",value:"\u767b\u5f55",className:"input_btn",onClick:function(t){e.fetch_login(t)},required:!0}),s.a.createElement("input",{type:"button",value:"\u6ce8\u518c",className:"input_btn",onClick:function(t){e.toLogup(t)},required:!0}),s.a.createElement("span",{id:"pass",onClick:function(){e.toMain()}},"\u8df3\u8fc7\u767b\u5f55>"))}}]),t}(a.Component),h=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(r.a)(t).call(this))).toLogin=function(t){e.props.history.push("/login")},e.check=function(e){c.a.findDOMNode(document.getElementById("password_check")).value==c.a.findDOMNode(document.getElementById("password")).value?(c.a.findDOMNode(document.getElementById("check")).style.display="none",c.a.findDOMNode(document.getElementById("logup_btn")).disable=!0):(c.a.findDOMNode(document.getElementById("check")).style.display="block",c.a.findDOMNode(document.getElementById("check")).disable=!1)},e.fetch_logup=function(t){var n={type:"logup"};n.email=document.getElementsByName("email")[0].value,n.username=document.getElementsByName("username")[0].value,n.password=document.getElementsByName("password")[0].value,""==n.email||""==n.username||""==n.password?e.setState({msg:"\u4ee5\u4e0a\u8f93\u5165\u6846\u672a\u586b\u5b8c\u6574",btn:"\u786e\u8ba4",fun:function(){c.a.findDOMNode(document.getElementById("alert")).style.display="none"}},(function(){c.a.findDOMNode(document.getElementById("alert")).style.display="block"})):fetch("https://daitianfang.1459.top/acg",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify(n)}).then((function(e){return e.text()})).then((function(t){"success"===t?e.setState({msg:"\u6ce8\u518c\u6210\u529f,\u70b9\u51fb\u786e\u5b9a\u8df3\u8f6c\u6fc0\u6d3b",btn:"\u70b9\u51fb\u6fc0\u6d3b",fun:function(){sessionStorage.setItem("username",n.username),sessionStorage.setItem("email",n.email),e.props.history.push("/email")}},(function(){c.a.findDOMNode(document.getElementById("alert")).style.display="block"})):e.setState({msg:t,btn:"\u786e\u5b9a",fun:function(){c.a.findDOMNode(document.getElementById("alert")).style.display="none"}},(function(){c.a.findDOMNode(document.getElementById("alert")).style.display="block"}))}))},e.state={msg:"",btn:"",fun:function(){}},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"bg"},s.a.createElement(p,{title:"\u6ce8\u518c"}),s.a.createElement("div",{className:"logo"},s.a.createElement("img",{src:"/images/logo.png",width:"100px"})),s.a.createElement(d,{msg:this.state.msg,toPath:function(){e.state.fun()},btn:this.state.btn}),s.a.createElement("input",{type:"email",placeholder:"\u90ae\u7bb1",className:"input",name:"email"}),s.a.createElement("input",{type:"text",placeholder:"\u7528\u6237\u540d",className:"input",name:"username"}),s.a.createElement("input",{type:"password",placeholder:"\u5bc6\u7801",className:"input",id:"password",name:"password",onKeyUp:function(t){e.check(t)}}),s.a.createElement("input",{type:"password",placeholder:"\u786e\u8ba4\u5bc6\u7801",className:"input",onKeyUp:function(t){e.check(t)},id:"password_check"}),s.a.createElement("span",{id:"check"},"\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4"),s.a.createElement("input",{type:"button",value:"\u6ce8\u518c",className:"input_btn",id:"logup_btn",onClick:function(t){e.fetch_logup(t)}}),s.a.createElement("input",{type:"button",value:"\u8fd4\u56de",className:"input_btn",onClick:function(t){e.toLogin(t)}}))}}]),t}(a.Component),g=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(r.a)(t).call(this))).fetch_send=function(){var t={type:"check"};t.username=sessionStorage.getItem("username"),t.email=sessionStorage.getItem("email"),fetch("https://daitianfang.1459.top/acg",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(t){"success"===t?(c.a.findDOMNode(document.getElementById("alert")).style.display="block",e.setState({msg:"\u90ae\u4ef6\u5df2\u53d1\u9001\u8bf7\u6ce8\u610f\u67e5\u6536",btn:"\u70b9\u51fb\u8fd4\u56de\u767b\u5f55",fun:function(){e.props.history.push("/login")}})):(c.a.findDOMNode(document.getElementById("alert")).style.display="block",e.setState({msg:t,btn:"\u91cd\u65b0\u6ce8\u518c",fun:function(){e.props.history.push("/logup")}}))}))},e.state={msg:"",btn:"",fun:function(){}},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"bg"},s.a.createElement(p,{title:"\u90ae\u7bb1\u6fc0\u6d3b"}),s.a.createElement(d,{msg:this.state.msg,btn:this.state.btn,toPath:function(){e.state.fun()}}),s.a.createElement("button",{className:"input_btn",onClick:function(){e.fetch_send()}},"\u70b9\u51fb\u53d1\u9001\u90ae\u4ef6"))}}]),t}(a.Component),y=n(12),b=n(9),E=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(y.a,null,s.a.createElement(b.a,{path:"/login",component:f}),s.a.createElement(b.a,{path:"/logup",component:h}),s.a.createElement(b.a,{path:"/email",component:g}))}}]),t}(a.Component);n(32);c.a.render(s.a.createElement(E,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.0a92fbb6.chunk.js.map