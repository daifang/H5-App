{"version":3,"sources":["component/Nav.js","component/Alert.js","container/Signin.js","container/Signup.js","container/Activate.js","App.js","index.js"],"names":["Nav","className","this","props","title","Component","Alert","id","src","width","msg","type","value","btn","style","marginTop","onClick","e","toPath","Signin","toMain","history","push","toLogup","fetch_login","data","username","document","getElementsByName","password","setState","ReactDom","findDOMNode","getElementById","display","fetch","method","mode","headers","body","JSON","stringify","then","req","text","hidden","state","placeholder","name","autoComplete","required","Signup","toLogin","check","disable","fetch_logup","email","fun","sessionStorage","setItem","onKeyUp","Activate","fetch_send","getItem","App","path","component","ReactDOM","render"],"mappings":"0OAGqBA,G,uLAEb,OACI,yBAAKC,UAAU,OACX,8BAAOC,KAAKC,MAAMC,Y,GAJDC,cCCZC,E,iLACP,IAAD,OACL,OACI,yBAAKC,GAAG,SACJ,yBAAKC,IAAqB,IAAhBN,KAAKC,MAAMK,IAASN,KAAKC,MAAMK,IAAM,qBAAsBC,MAAM,SAC3E,8BAAOP,KAAKC,MAAMO,KAClB,2BAAOC,KAAK,SAASC,MAAOV,KAAKC,MAAMU,KAAK,eAAMZ,UAAU,YAAYa,MAAO,CAACC,UAAU,QAASC,QAAS,SAACC,GAAK,EAAKd,MAAMe,OAAOD,W,GANjHZ,aCCdc,E,YACjB,aAAc,IAAD,8BACT,+CAqBJC,OAAS,WACL,EAAKjB,MAAMkB,QAAQC,KAAK,SAvBf,EAyBbC,QAAU,SAACN,GACP,EAAKd,MAAMkB,QAAQC,KAAK,WA1Bf,EA4BbE,YAAc,SAACP,GACX,IAAIQ,EAAO,CACXA,KAAY,SACZA,EAAKC,SAAWC,SAASC,kBAAkB,YAAY,GAAGhB,MAC1Da,EAAKI,SAAWF,SAASC,kBAAkB,YAAY,GAAGhB,MACtC,IAAjBa,EAAKC,UAAmC,IAAjBD,EAAKI,SAC3B,EAAKC,SAAS,CACVpB,IAAI,iEACN,WACEqB,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,WAGjEC,MAAM,mCAAmC,CACjDC,OAAO,OACPC,KAAK,OACLC,QAAS,CAAC,eAAe,oBACzBC,KAAKC,KAAKC,UAAUhB,KACrBiB,MAAK,SAAAC,GAAM,OAAOA,EAAIC,UAASF,MAAK,SAAAjB,GACzB,YAAPA,EACC,EAAKtB,MAAMkB,QAAQC,KAAK,QAExB,EAAKQ,SAAS,CACVpB,IAAI,qDACN,WACEqB,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,eApDxE,EA2DbW,OAAS,SAAC5B,GACNc,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,QA1DrE,EAAKY,MAAQ,CACTpC,IAAI,oDAHC,E,sEAMH,IAAD,OACL,OACI,yBAAKT,UAAU,MACX,kBAAC,EAAD,CAAKG,MAAM,iBACX,yBAAKH,UAAU,QACX,yBAAKO,IAAI,mBAAmBC,MAAM,WAEtC,kBAAC,EAAD,CAAOC,IAAKR,KAAK4C,MAAMpC,IAAKQ,OAAU,WAAK,EAAK2B,YACjD,2BAAOlC,KAAK,OAAOoC,YAAY,qBAAM9C,UAAU,QAAQ+C,KAAK,WAAWC,aAAa,QACpF,2BAAOtC,KAAK,WAAWoC,YAAY,eAAK9C,UAAU,QAAQ+C,KAAK,WAAWC,aAAa,QACvF,2BAAOtC,KAAK,SAASC,MAAM,eAAKX,UAAU,YAAYe,QAAS,SAACC,GAAK,EAAKO,YAAYP,IAAKiC,UAAQ,IACnG,2BAAOvC,KAAK,SAASC,MAAM,eAAKX,UAAU,YAAYe,QAAS,SAACC,GAAK,EAAKM,QAAQN,IAAKiC,UAAQ,IAC/F,0BAAM3C,GAAG,OAAOS,QAAS,WAAK,EAAKI,WAAnC,qB,GAnBqBf,aCDf8C,E,YACjB,aAAc,IAAD,8BACT,+CAyBJC,QAAU,SAACnC,GACP,EAAKd,MAAMkB,QAAQC,KAAK,WA3Bf,EA6Bb+B,MAAQ,SAACpC,GACQc,IAASC,YAAYL,SAASM,eAAe,mBAAmBrB,OAChEmB,IAASC,YAAYL,SAASM,eAAe,aAAarB,OAEnEmB,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,OACrEH,IAASC,YAAYL,SAASM,eAAe,cAAcqB,SAAQ,IAEnEvB,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,QACrEH,IAASC,YAAYL,SAASM,eAAe,UAAUqB,SAAQ,IArC1D,EAwCbC,YAAY,SAACtC,GACT,IAAIQ,EAAO,CACXA,KAAU,SACVA,EAAK+B,MAAQ7B,SAASC,kBAAkB,SAAS,GAAGhB,MACpDa,EAAKC,SAAWC,SAASC,kBAAkB,YAAY,GAAGhB,MAC1Da,EAAKI,SAAWF,SAASC,kBAAkB,YAAY,GAAGhB,MACzC,IAAda,EAAK+B,OAA4B,IAAf/B,EAAKC,UAA6B,IAAfD,EAAKI,SACzC,EAAKC,SAAS,CACVpB,IAAI,yDACJG,IAAI,eACJ4C,IAAI,WACA1B,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,UAE3E,WACEH,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,WAGzEC,MAAM,mCAAmC,CACrCC,OAAO,OACPE,QAAQ,CACJ,eAAe,oBAEnBD,KAAK,OACLE,KAAKC,KAAKC,UAAUhB,KACrBiB,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAAQF,MAAK,SAAAE,GACd,YAATA,EACC,EAAKd,SAAS,CACVpB,IAAI,4EACJG,IAAI,2BACJ4C,IAAI,WACAC,eAAeC,QAAQ,WAAWlC,EAAKC,UACvCgC,eAAeC,QAAQ,QAAQlC,EAAK+B,OACpC,EAAKrD,MAAMkB,QAAQC,KAAK,aAE9B,WACES,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,WAGzE,EAAKJ,SAAS,CACVpB,IAAIkC,EACJ/B,IAAI,eACJ4C,IAAI,WACA1B,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,UAE3E,WACEH,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,eAnFrF,EAAKY,MAAQ,CACTpC,IAAI,GACJG,IAAI,GACJ4C,IAAI,cALC,E,sEAQH,IAAD,OACL,OACI,yBAAKxD,UAAU,MACX,kBAAC,EAAD,CAAKG,MAAM,iBACX,yBAAKH,UAAU,QACX,yBAAKO,IAAI,mBAAmBC,MAAM,WAEtC,kBAAC,EAAD,CAAOC,IAAKR,KAAK4C,MAAMpC,IAAKQ,OAAQ,WAAK,EAAK4B,MAAMW,OAAQ5C,IAAKX,KAAK4C,MAAMjC,MAC5E,2BAAOF,KAAK,QAAQoC,YAAY,gCAAsB9C,UAAU,QAAQ+C,KAAK,QAAQC,aAAa,QAClG,2BAAOtC,KAAK,OAAOoC,YAAY,qBAAM9C,UAAU,QAAQ+C,KAAK,WAAWC,aAAa,QACrF,2BAAOtC,KAAK,WAAWoC,YAAY,eAAK9C,UAAU,QAAQM,GAAG,WAAWyC,KAAK,WAAWY,QAAS,SAAC3C,GAAK,EAAKoC,MAAMpC,MAClH,2BAAON,KAAK,WAAWoC,YAAY,2BAAO9C,UAAU,QAAQ2D,QAAS,SAAC3C,GAAK,EAAKoC,MAAMpC,IAAKV,GAAG,mBAC7F,0BAAMA,GAAG,SAAS,8CACnB,2BAAOI,KAAK,SAASC,MAAM,eAAKX,UAAU,YAAYM,GAAG,YAAYS,QAAS,SAACC,GAAK,EAAKsC,YAAYtC,MACrG,2BAAON,KAAK,SAASC,MAAM,eAAKX,UAAU,YAAYe,QAAS,SAACC,GAAK,EAAKmC,QAAQnC,W,GAvB7DZ,aCAfwD,E,YACjB,aAAc,IAAD,8BACT,+CAmBJC,WAAa,WACT,IAAIrC,EAAO,CACXA,KAAY,SACZA,EAAKC,SAAWgC,eAAeK,QAAQ,YACvCtC,EAAK+B,MAAQE,eAAeK,QAAQ,SAEpChC,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,QACrE,EAAKJ,SAAS,CACVpB,IAAI,qDACJG,IAAI,qBACJ4C,IAAI,WACA1B,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,QAEzE1B,IAAI,aAER2B,MAAM,mCAAmC,CACrCC,OAAO,OACPC,KAAK,OACLC,QAAQ,CAAC,eAAe,oBACxBC,KAAKC,KAAKC,UAAUhB,KACrBiB,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAAQF,MAAK,SAAAjB,GACd,YAATA,EACC,EAAKK,SAAS,CACVpB,IAAI,+DACJG,IAAI,uCACJ4C,IAAI,WACA,EAAKtD,MAAMkB,QAAQC,KAAK,WAE5Bd,IAAI,wBACN,WACEuB,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,WAE3D,4DAATT,GACL,EAAKK,SAAS,CACVpB,IAAIe,EACJZ,IAAI,2BACJ4C,IAAI,WACA,EAAKtD,MAAMkB,QAAQC,KAAK,WAE5Bd,IAAI,uBACN,WACEuB,IAASC,YAAYL,SAASM,eAAe,UAAUnB,MAAMoB,QAAQ,eA3DjF,EAAKY,MAAQ,CACTpC,IAAI,GACJG,IAAI,GACJ4C,IAAI,aAGJjD,IAAI,IARC,E,sEAWH,IAAD,OACL,OACI,yBAAKP,UAAU,MACX,kBAAC,EAAD,CAAKG,MAAM,6BACX,kBAAC,EAAD,CAAOM,IAAKR,KAAK4C,MAAMpC,IAAKG,IAAOX,KAAK4C,MAAMjC,IAAKK,OAAQ,WAAK,EAAK4B,MAAMW,OAAQjD,IAAKN,KAAK4C,MAAMtC,MACnG,4BAAQP,UAAU,YAAYe,QAAS,WAAK,EAAK8C,eAAjD,6C,GAjBsBzD,a,eCEjB2D,E,iLAEjB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAM,SAAUC,UAAW/C,IAClC,kBAAC,IAAD,CAAO8C,KAAM,SAAUC,UAAWf,IAClC,kBAAC,IAAD,CAAOc,KAAM,SAAUC,UAAWL,S,GANTxD,a,MCDjC8D,IAASC,OACL,kBAAC,EAAD,MACAzC,SAASM,eAAe,W","file":"static/js/main.c54553d7.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport '../login.css';\r\nimport {Link} from 'react-router-dom';\r\nexport default class Nav extends Component {\r\n    render() {\r\n        return (\r\n            <div className='nav'>\r\n                <span>{this.props.title}</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ReactDom from 'react-dom';\r\n\r\n\r\nexport default class Alert extends Component {\r\n    render() {\r\n        return (\r\n            <div id='alert'>\r\n                <img src={this.props.src!=''? this.props.src : '/images/failed.png'} width='80px'/>\r\n                <span>{this.props.msg}</span>\r\n                <input type='button' value={this.props.btn||'确认'} className='input_btn' style={{marginTop:'10px'}} onClick={(e)=>{this.props.toPath(e)}}/>\r\n            </div>\r\n        )\r\n    };\r\n\r\n}\r\n","import React, { Component } from 'react';\r\nimport Nav from '../component/Nav';\r\nimport Alert from '../component/Alert';\r\nimport ReactDom from 'react-dom';\r\n\r\nexport default class Signin extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            msg:'用户名或密码错误'\r\n        }\r\n    } \r\n    render() {\r\n        return (\r\n            <div className='bg'>\r\n                <Nav title='登录'/>\r\n                <div className='logo'>\r\n                    <img src='/images/logo.png' width='100px'/>\r\n                </div>\r\n                <Alert msg={this.state.msg} toPath = {()=>{this.hidden()}}/>\r\n               <input type='text' placeholder='用户名' className='input' name='username' autoComplete='off'/>\r\n               <input type='password' placeholder='密码' className='input' name='password' autoComplete='off'/>\r\n               <input type='button' value='登录' className='input_btn' onClick={(e)=>{this.fetch_login(e)}} required/>\r\n               <input type='button' value='注册' className='input_btn' onClick={(e)=>{this.toLogup(e)}} required/>\r\n               <span id='pass' onClick={()=>{this.toMain()}}>跳过</span>\r\n            </div>\r\n        )\r\n    }\r\n    toMain = ()=>{\r\n        this.props.history.push('/acg');\r\n    }\r\n    toLogup = (e)=>{\r\n        this.props.history.push('/logup');\r\n    }\r\n    fetch_login = (e)=>{\r\n        let data = {};\r\n        data.type = 'login';\r\n        data.username = document.getElementsByName('username')[0].value;\r\n        data.password = document.getElementsByName('password')[0].value;\r\n        if(data.username == '' || data.password == ''){\r\n            this.setState({\r\n                msg:'用户名或密码不能为空'\r\n            },()=>{\r\n                ReactDom.findDOMNode(document.getElementById('alert')).style.display='block';\r\n            })\r\n        }else{\r\n                    fetch('https://daitianfang.1459.top/acg',{\r\n            method:'POST',\r\n            mode:'cors',\r\n            headers: {'Content-Type':'application/json'},\r\n            body:JSON.stringify(data)\r\n        }).then(req=>{return req.text()}).then(data=>{\r\n            if(data==='success'){\r\n                this.props.history.push('/acg');\r\n            }else{\r\n                this.setState({\r\n                    msg:'用户名或密码错误'\r\n                },()=>{\r\n                    ReactDom.findDOMNode(document.getElementById('alert')).style.display='block';\r\n                })   \r\n            }\r\n        });\r\n        }\r\n\r\n    }\r\n    hidden = (e)=>{\r\n        ReactDom.findDOMNode(document.getElementById('alert')).style.display='none';\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Nav from '../component/Nav';\r\nimport ReactDom from 'react-dom';\r\nimport Alert from '../component/Alert';\r\nexport default class Signup extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            msg:'',\r\n            btn:'',\r\n            fun:()=>{}\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='bg'>\r\n                <Nav title='注册'/>\r\n                <div className='logo'>\r\n                    <img src='/images/logo.png' width='100px'/>\r\n                </div>\r\n                <Alert msg={this.state.msg} toPath={()=>{this.state.fun()}} btn={this.state.btn}/>\r\n                <input type='email' placeholder='邮箱      name@qq.com' className='input' name='email' autoComplete='off'/>\r\n                <input type='text' placeholder='用户名' className='input' name='username' autoComplete='off'/>\r\n               <input type='password' placeholder='密码' className='input' id='password' name='password' onKeyUp={(e)=>{this.check(e)}}/>\r\n               <input type='password' placeholder='确认密码' className='input' onKeyUp={(e)=>{this.check(e)}} id='password_check'/>\r\n                <span id='check'>{'两次密码不一致'}</span>\r\n               <input type='button' value='注册' className='input_btn' id='logup_btn' onClick={(e)=>{this.fetch_logup(e)}}/>\r\n               <input type='button' value='返回' className='input_btn' onClick={(e)=>{this.toLogin(e)}}/>\r\n            </div>\r\n        )\r\n    }\r\n    toLogin = (e)=>{\r\n        this.props.history.push('/login');\r\n    }\r\n    check = (e)=>{\r\n        let value =  ReactDom.findDOMNode(document.getElementById('password_check')).value;\r\n        let value1 = ReactDom.findDOMNode(document.getElementById('password')).value;\r\n        if(value == value1){\r\n            ReactDom.findDOMNode(document.getElementById('check')).style.display='none';\r\n            ReactDom.findDOMNode(document.getElementById('logup_btn')).disable=true;\r\n        }else{\r\n            ReactDom.findDOMNode(document.getElementById('check')).style.display='block';\r\n            ReactDom.findDOMNode(document.getElementById('check')).disable=false;\r\n        }\r\n    }\r\n    fetch_logup=(e)=>{\r\n        let data = {};\r\n        data.type='logup';\r\n        data.email = document.getElementsByName('email')[0].value;\r\n        data.username = document.getElementsByName('username')[0].value;\r\n        data.password = document.getElementsByName('password')[0].value;\r\n        if(data.email == ''||data.username==''||data.password==''){\r\n            this.setState({\r\n                msg:'以上输入框未填完整',\r\n                btn:'确认',\r\n                fun:()=>{\r\n                    ReactDom.findDOMNode(document.getElementById('alert')).style.display='none';\r\n                }\r\n            },()=>{\r\n                ReactDom.findDOMNode(document.getElementById('alert')).style.display='block';\r\n            })\r\n        }else{\r\n            fetch('https://daitianfang.1459.top/acg',{\r\n                method:'POST',\r\n                headers:{\r\n                    'Content-Type':'application/json'\r\n                },\r\n                mode:'cors',\r\n                body:JSON.stringify(data)\r\n            }).then(req=>req.text()).then(text=>{\r\n                if(text === 'success'){\r\n                    this.setState({\r\n                        msg:'注册成功,点击确定跳转激活',\r\n                        btn:'点击激活',\r\n                        fun:()=>{\r\n                            sessionStorage.setItem('username',data.username);\r\n                            sessionStorage.setItem('email',data.email);\r\n                            this.props.history.push('/email');\r\n                        }\r\n                    },()=>{\r\n                        ReactDom.findDOMNode(document.getElementById('alert')).style.display='block';\r\n                    })\r\n                }else{\r\n                    this.setState({\r\n                        msg:text,\r\n                        btn:'确定',\r\n                        fun:()=>{\r\n                            ReactDom.findDOMNode(document.getElementById('alert')).style.display='none';\r\n                        }\r\n                    },()=>{\r\n                        ReactDom.findDOMNode(document.getElementById('alert')).style.display='block';\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Nav from '../component/Nav';\r\nimport Alert from '../component/Alert';\r\nimport ReactDom from 'react-dom';\r\nexport default class Activate extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            msg:'',\r\n            btn:'',\r\n            fun:()=>{\r\n\r\n            },\r\n            src:''\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='bg'>\r\n                <Nav title='邮箱激活'/>\r\n                <Alert msg={this.state.msg} btn = {this.state.btn} toPath={()=>{this.state.fun()}} src={this.state.src}/>\r\n                <button className='input_btn' onClick={()=>{this.fetch_send()}}>点击发送邮件</button>\r\n            </div>\r\n        )\r\n    }\r\n    fetch_send = ()=>{\r\n        let data = {};\r\n        data.type = 'check';\r\n        data.username = sessionStorage.getItem('username');\r\n        data.email = sessionStorage.getItem('email');\r\n        // console.log(data);\r\n        ReactDom.findDOMNode(document.getElementById('alert')).style.display='block';            \r\n        this.setState({\r\n            msg:'正在发送中·····',\r\n            btn:'请稍后',\r\n            fun:()=>{\r\n                ReactDom.findDOMNode(document.getElementById('alert')).style.display='none';\r\n            },\r\n            src:'/run.gif'\r\n        })\r\n        fetch('https://daitianfang.1459.top/acg',{\r\n            method:'POST',\r\n            mode:'cors',\r\n            headers:{'Content-Type':'application/json'},\r\n            body:JSON.stringify(data)\r\n        }).then(req=>req.text()).then(data=>{\r\n            if(data === 'success'){\r\n                this.setState({\r\n                    msg:'邮件已发送请注意查收',\r\n                    btn:'点击返回登录',\r\n                    fun:()=>{\r\n                        this.props.history.push('/login');\r\n                    },\r\n                    src:'/images/success.png'\r\n                },()=>{\r\n                    ReactDom.findDOMNode(document.getElementById('alert')).style.display='block';\r\n                })\r\n            }else if(data === '发送失败,请检查邮箱'){\r\n                this.setState({\r\n                    msg:data,\r\n                    btn:'重新注册',\r\n                    fun:()=>{\r\n                        this.props.history.push('/logup');\r\n                    },\r\n                    src:'/images/failed.png'\r\n                },()=>{\r\n                    ReactDom.findDOMNode(document.getElementById('alert')).style.display='block';\r\n                })\r\n            }\r\n        })\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Signin from './container/Signin';\r\nimport Signup from './container/Signup';\r\nimport Activate from './container/Activate';\r\nimport {Route,HashRouter as Router} from 'react-router-dom';\r\nimport './login.css';\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Route path={'/login'} component={Signin}/>\r\n        <Route path={'/logup'} component={Signup}/>\r\n        <Route path={'/email'} component={Activate}/>\r\n      </Router>\r\n        \r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport 'antd-mobile/dist/antd-mobile.css';\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}